# OP25

> **RISK CLASSIFICATION**: MEDIUM RISK - SENSITIVE SOFTWARE
> Real-time P25 trunked radio decoder with live audio output. Monitors law enforcement, emergency services, and military P25 communications with talkgroup tracking and encryption detection. Receive-only — no transmit capability. Military education/training toolkit - Not for public release.

## Deployment Classification

> **RUNS ON ARGOS RPi 5: YES** — Community arm64 Docker tags available; native install documented for RPi 3B+ and newer

| Method               | Supported | Notes                                                                                                  |
| -------------------- | --------- | ------------------------------------------------------------------------------------------------------ |
| **Docker Container** | PARTIAL   | `zentec/op25` community image with arm64/v8 snapshot tags; not official but actively maintained        |
| **Native Install**   | YES       | `install.sh` targets Raspbian/Debian; RPi 3B+ install documented; GNU Radio 3.10 + gr-osmosdr required |

---

## Tool Description

OP25 is an open-source P25 digital radio decoder that provides real-time voice decoding with a web-based monitoring interface. It follows P25 trunking control channels, tracks active talkgroups, decodes IMBE/AMBE voice, and outputs live audio. Unlike trunk-recorder (which records calls to files), OP25 is designed for interactive live monitoring with an integrated web UI dashboard.

Key capabilities:

- Real-time P25 Phase I (FDMA) and Phase II (TDMA) voice decoding
- Trunking control channel monitoring and automatic voice channel following
- Web-based UI (`http-server`) showing active calls, talkgroups, frequencies, and signal quality
- Live audio streaming through the web interface
- Encrypted channel detection (flags encrypted talkgroups)
- Multiple SDR support via gr-osmosdr: HackRF, RTL-SDR, USRP, Airspy
- Conventional (non-trunked) P25 channel monitoring
- Talkgroup and unit ID display with configurable alias files
- Signal quality metrics (BER, signal strength, frequency error)
- UDP audio streaming for remote monitoring

## Category

P25 Real-Time Decoding / Interactive Radio Monitoring / SIGINT

## Repository

- **GitHub**: https://github.com/boatbod/op25
- **Language**: Python / C++ (GNU Radio OOT module)
- **License**: GPL-3.0
- **Stars**: ~431

---

## Docker Compatibility

### Can it run in Docker?

**PARTIAL** — The community Docker image `zentec/op25` provides arm64/v8 snapshot tags (e.g., `arm64_202505081148_3fe1908`). These are periodic builds, not continuously updated releases. For production use, native install may be more reliable. Docker deployment works but requires careful tag selection.

### Docker Requirements

- `--privileged` — Required for SDR USB passthrough
- `--device=/dev/bus/usb` — USB passthrough for HackRF, RTL-SDR, USRP
- `--net=host` or `-p 8080:8080` — Web UI HTTP server
- `-p 23456:23456/udp` — Optional UDP audio streaming port
- Volume mount for configuration: `-v /path/to/config:/app/op25/op25/gr-op25_repeater/apps/`
- Host `udev` rules for SDR device permissions

### Dockerfile

```dockerfile
# Custom build if community image tags are unavailable
FROM debian:bookworm-slim

RUN apt-get update && apt-get install -y --no-install-recommends \
    build-essential \
    cmake \
    git \
    ca-certificates \
    pkg-config \
    gnuradio-dev \
    gr-osmosdr \
    libhackrf-dev \
    librtlsdr-dev \
    libuhd-dev \
    python3 \
    python3-dev \
    python3-numpy \
    python3-pip \
    pybind11-dev \
    libsndfile1-dev \
    libboost-all-dev \
    && rm -rf /var/lib/apt/lists/*

RUN git clone https://github.com/boatbod/op25.git /opt/op25

WORKDIR /opt/op25
RUN ./install.sh

WORKDIR /opt/op25/op25/gr-op25_repeater/apps
EXPOSE 8080
ENTRYPOINT ["python3", "rx.py"]
```

### Docker Run Command

```bash
# Using community arm64 image
docker run -d \
  --name op25 \
  --restart unless-stopped \
  --privileged \
  --device=/dev/bus/usb \
  -p 8080:8080 \
  -v $(pwd)/op25-config:/opt/op25/op25/gr-op25_repeater/apps \
  zentec/op25:arm64_202505081148_3fe1908

# Custom build
docker build -t argos/op25 .

docker run -d \
  --name op25 \
  --restart unless-stopped \
  --privileged \
  --device=/dev/bus/usb \
  -p 8080:8080 \
  -v $(pwd)/op25-config:/opt/op25/op25/gr-op25_repeater/apps \
  argos/op25 \
  --args "hackrf=0" \
  --gains "lna:32,vga:20" \
  -S 2000000 \
  -q 0 \
  -T trunk.tsv \
  -V \
  -w
```

---

## Install Instructions (Native)

```bash
# ============================================
# OP25 Native Install on Kali Linux RPi5
# ============================================

# Install GNU Radio and SDR dependencies
sudo apt-get update
sudo apt-get install -y \
  build-essential \
  cmake \
  git \
  pkg-config \
  gnuradio-dev \
  gr-osmosdr \
  libhackrf-dev \
  librtlsdr-dev \
  libuhd-dev \
  python3 \
  python3-dev \
  python3-numpy \
  python3-pip \
  pybind11-dev \
  libsndfile1-dev \
  libboost-all-dev

# Clone OP25
cd /opt
sudo git clone https://github.com/boatbod/op25.git
cd op25

# Run the OP25 installer
sudo ./install.sh

# Navigate to the apps directory
cd op25/gr-op25_repeater/apps

# Create trunk.tsv configuration for your local P25 system
# Format: sysname\tcontrol_channel_freq\toffset\tnac
sudo tee trunk.tsv << 'TSVEOF'
my_system	851012500	0	0
TSVEOF

# Run OP25 with HackRF and web UI
python3 rx.py \
  --args "hackrf=0" \
  --gains "lna:32,vga:20" \
  -S 2000000 \
  -q 0 \
  -T trunk.tsv \
  -V \
  -w

# Run with RTL-SDR
python3 rx.py \
  --args "rtl=0" \
  --gains "lna:40" \
  -S 2400000 \
  -q 0 \
  -T trunk.tsv \
  -V \
  -w

# Access web UI at http://<pi-ip>:8080

# Create systemd service
sudo tee /etc/systemd/system/op25.service << 'SERVICEEOF'
[Unit]
Description=OP25 P25 Trunked Radio Decoder
After=network.target

[Service]
Type=simple
WorkingDirectory=/opt/op25/op25/gr-op25_repeater/apps
ExecStart=/usr/bin/python3 rx.py \
  --args "hackrf=0" \
  --gains "lna:32,vga:20" \
  -S 2000000 \
  -q 0 \
  -T trunk.tsv \
  -V \
  -w
Restart=on-failure
RestartSec=10

[Install]
WantedBy=multi-user.target
SERVICEEOF

sudo systemctl daemon-reload
sudo systemctl enable op25
sudo systemctl start op25
```

---

## Kali Linux Raspberry Pi 5 Compatibility

| Criteria              | Status                                                                                                         |
| --------------------- | -------------------------------------------------------------------------------------------------------------- |
| ARM64 Support         | :white_check_mark: Full — RPi 3B+ documented; install.sh targets Debian ARM; community arm64 Docker tags exist |
| Kali Repo Available   | :x: Not in Kali repos — install from source via install.sh or use community Docker image                       |
| Hardware Requirements | HackRF One, RTL-SDR, or USRP via USB; antenna for local P25 frequencies (typically 700-900 MHz)                |
| Performance on RPi5   | :warning: Moderate — GNU Radio-based; ~20-40% CPU for single P25 system; higher with Phase II TDMA decoding    |

### RPi5-Specific Notes

- RPi 3B+ install is documented in OP25 community — RPi 5 is significantly more capable
- GNU Radio dependency makes this heavier than dsd-neo (~500MB-1GB installed)
- Web UI is lightweight and works well when served from RPi 5
- HackRF via gr-osmosdr works for P25 reception; RTL-SDR is also well-supported
- Phase II TDMA decoding is more CPU-intensive than Phase I FDMA
- Memory usage: ~300-500 MB with GNU Radio runtime

### Argos Integration Notes

- Built-in web UI on port 8080 can be embedded in Argos dashboard iframe
- Provides real-time talkgroup activity, frequency assignments, and signal quality
- UDP audio output can stream decoded voice to Argos audio player components
- Encrypted channel detection is valuable for identifying secure P25 systems
- Complements trunk-recorder: OP25 for live interactive monitoring, trunk-recorder for unattended recording
- JSON data from the web UI can be consumed by Argos backend for logging and display

### Verdict

**COMPATIBLE** — OP25 runs on RPi 5 with adequate performance for single-system P25 monitoring. The web UI provides an interactive monitoring experience that complements trunk-recorder's unattended recording approach. Native install via install.sh is recommended over Docker for the most reliable deployment.
