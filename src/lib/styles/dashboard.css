/* ============================================================
   DASHBOARD LAYOUT SYSTEM
   Font stacks, layout tokens, and Leaflet overrides.
   Used exclusively by /dashboard route.
   ============================================================ */

:root {
	--font-sans: 'Geist', system-ui, sans-serif;
	--font-mono: 'Fira Code', 'JetBrains Mono', monospace;
	--font-primary: var(--font-mono);
	--font-secondary: var(--font-sans);
	--icon-rail-width: 48px;
	--panel-width: 280px;
	--top-bar-height: 40px;
}

/* ---- Shell Layout ---- */
/* DashboardShell.svelte handles the primary shell layout via scoped styles.
   The legacy .dashboard-shell class below is kept for descendant selectors
   (leaflet overrides, critical.css neutralization) that target elements
   within the shell. */
.dashboard-shell {
	font-family: var(--font-sans);
	color: var(--foreground);
}

/* ---- Leaflet Popup Overrides ---- */
.dashboard-shell .leaflet-popup-content-wrapper {
	background: var(--card);
	color: var(--foreground);
	border: 1px solid var(--border);
	border-radius: var(--radius-lg);
	font-family: var(--font-sans);
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
}

.dashboard-shell .leaflet-popup-content {
	margin: var(--space-3);
	font-size: var(--text-sm);
	line-height: 1.5;
}

.dashboard-shell .leaflet-popup-tip {
	background: var(--card);
	border: 1px solid var(--border);
}

.dashboard-shell .leaflet-control-zoom a {
	background: var(--card);
	color: var(--foreground);
	border-color: var(--border);
}

.dashboard-shell .leaflet-control-zoom a:hover {
	background: var(--surface-elevated);
}

.dashboard-shell .leaflet-control-attribution {
	display: none;
}

/* ---- Neutralize global critical.css leaks ---- */
/* critical.css applies bare element selectors (header, button, input)
   for FOUC prevention on other pages. Override them inside the dashboard
   so that scoped component styles take precedence. */

.dashboard-shell header {
	background-color: transparent;
	border-bottom: none;
	backdrop-filter: none;
}

.dashboard-shell button {
	font-family: inherit;
	background: transparent;
	color: inherit;
	border: none;
	border-radius: 0;
	transition: none;
}

.dashboard-shell input,
.dashboard-shell select,
.dashboard-shell textarea {
	font-family: inherit;
	background: transparent;
	color: inherit;
	border: none;
	border-radius: 0;
	padding: 0;
}

.dashboard-shell code,
.dashboard-shell .code,
.dashboard-shell .mono {
	background: transparent;
	padding: 0;
	border: none;
	border-radius: 0;
}

/* ---- Panel header ---- */
.dashboard-shell .panel-header {
	background: var(--background);
	border-bottom: 1px solid var(--border);
}
