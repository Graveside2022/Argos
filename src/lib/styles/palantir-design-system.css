/* ============================================================
   PALANTIR DESIGN SYSTEM
   Enterprise-grade military dashboard aesthetic
   
   Colors are bridged to shadcn CSS variables so the entire
   dashboard responds to palette/mode changes from the theme
   store. Fallback hex values preserve appearance if shadcn
   vars are not yet loaded.
   ============================================================ */

/* ---- Color Palette (bridged to shadcn theme) ---- */
:root {
	/* Backgrounds — mapped to shadcn surface hierarchy
	   3-tier depth: chrome (darkest) → surface/panel (mid) → elevated (lightest) */
	--palantir-bg-app: var(--background, #0e1116);
	--palantir-bg-chrome: var(--background, #0e1116);
	--palantir-bg-surface: var(--card, #16181d);
	--palantir-bg-panel: var(--card, #1c1f26);
	--palantir-bg-elevated: var(--accent, #25282f);
	--palantir-bg-input: var(--input, #1a1d23);
	--palantir-bg-hover: var(--accent, #2a2d35);
	--palantir-bg-button: var(--secondary, #2a2d35);

	/* Borders — mapped to shadcn border */
	--palantir-border-subtle: var(--border, rgba(255, 255, 255, 0.06));
	--palantir-border-default: var(--border, rgba(255, 255, 255, 0.1));
	--palantir-border-strong: var(--border, rgba(255, 255, 255, 0.15));

	/* Text — mapped to shadcn foreground hierarchy */
	--palantir-text-primary: var(--foreground, #e8eaed);
	--palantir-text-secondary: var(--muted-foreground, #9aa0a6);
	--palantir-text-tertiary: var(--muted-foreground, #5f6368);
	--palantir-text-on-accent: var(--primary-foreground, #ffffff);

	/* Accent — mapped to shadcn primary */
	--palantir-accent: var(--primary, #4a9eff);
	--palantir-accent-hover: var(--ring, #3a8eef);
	--palantir-accent-muted: color-mix(in srgb, var(--primary, #4a9eff) 15%, transparent);

	/* Status — mapped to shadcn semantic tokens */
	--palantir-success: var(--success, #4ade80);
	--palantir-warning: var(--warning, #fbbf24);
	--palantir-error: var(--destructive, #f87171);
	--palantir-info: var(--info, #60a5fa);

	/* Signal strength scale — mapped to shadcn signal tokens */
	--palantir-signal-critical: var(--signal-critical, #dc2626);
	--palantir-signal-strong: var(--signal-strong, #f97316);
	--palantir-signal-good: var(--signal-good, #fbbf24);
	--palantir-signal-fair: var(--signal-fair, #10b981);
	--palantir-signal-weak: var(--signal-weak, #4a90e2);

	/* Chart / data viz — mapped to shadcn chart tokens */
	--palantir-chart-1: var(--chart-1, #4a9eff);
	--palantir-chart-2: var(--chart-2, #10b981);
	--palantir-chart-3: var(--chart-3, #f97316);
	--palantir-chart-4: var(--chart-4, #a78bfa);
	--palantir-chart-5: var(--chart-5, #f87171);
	--palantir-chart-6: var(--chart-6, #fbbf24);

	/* Spacing scale (8px grid) */
	--space-1: 0.25rem; /* 4px */
	--space-2: 0.5rem; /* 8px */
	--space-3: 0.75rem; /* 12px */
	--space-4: 1rem; /* 16px */
	--space-5: 1.25rem; /* 20px */
	--space-6: 1.5rem; /* 24px */
	--space-8: 2rem; /* 32px */
	--space-10: 2.5rem; /* 40px */
	--space-12: 3rem; /* 48px */

	/* Typography */
	--text-xs: 0.6875rem; /* 11px */
	--text-sm: 0.75rem; /* 12px */
	--text-base: 0.875rem; /* 14px */
	--text-lg: 1rem; /* 16px */
	--text-xl: 1.125rem; /* 18px */
	--text-2xl: 1.5rem; /* 24px */
	--text-3xl: 1.875rem; /* 30px */

	--font-weight-normal: 400;
	--font-weight-medium: 500;
	--font-weight-semibold: 600;
	--font-weight-bold: 700;

	--letter-spacing-tight: -0.01em;
	--letter-spacing-normal: 0;
	--letter-spacing-wide: 0.025em;
	--letter-spacing-wider: 0.05em;
	--letter-spacing-widest: 0.1em;

	/* Radius */
	--radius-sm: 4px;
	--radius-md: 6px;
	--radius-lg: 8px;
	--radius-xl: 12px;

	/* Feature category colors (for mission cards) */
	--feature-rf: var(--feature-rf, #f97316);
	--feature-drone: var(--feature-drone, #06b6d4);
	--feature-radio: var(--feature-radio, #a855f7);
}

/* ---- Map Popup ---- */
.map-popup {
	background: var(--palantir-bg-panel);
	border: 1px solid var(--palantir-border-default);
	border-radius: var(--radius-lg);
	padding: var(--space-3);
	color: var(--palantir-text-primary);
	font-size: var(--text-sm);
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
}

.popup-title {
	font-size: var(--text-base);
	font-weight: var(--font-weight-semibold);
	color: var(--palantir-text-primary);
	margin-bottom: var(--space-2);
	padding-bottom: var(--space-2);
	border-bottom: 1px solid var(--palantir-border-subtle);
}

.popup-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: var(--space-1) 0;
}

.popup-label {
	font-size: var(--text-xs);
	color: var(--palantir-text-tertiary);
	text-transform: uppercase;
	letter-spacing: var(--letter-spacing-wider);
}

.popup-value {
	font-size: var(--text-sm);
	color: var(--palantir-text-primary);
	font-variant-numeric: tabular-nums;
}

/* ---- Signal Indicator ---- */
.signal-indicator {
	display: inline-block;
	width: 10px;
	height: 10px;
	border-radius: 50%;
}

.signal-critical {
	background: var(--palantir-signal-critical);
	box-shadow: 0 0 6px rgba(220, 38, 38, 0.4);
}

.signal-strong {
	background: var(--palantir-signal-strong);
	box-shadow: 0 0 6px rgba(249, 115, 22, 0.4);
}

.signal-good {
	background: var(--palantir-signal-good);
	box-shadow: 0 0 6px rgba(251, 191, 36, 0.4);
}

.signal-fair {
	background: var(--palantir-signal-fair);
	box-shadow: 0 0 6px rgba(16, 185, 129, 0.4);
}

.signal-weak {
	background: var(--palantir-signal-weak);
	box-shadow: 0 0 6px rgba(74, 144, 226, 0.4);
}

/* ---- Status dot ---- */
.status-dot {
	width: 8px;
	height: 8px;
	border-radius: 50%;
	display: inline-block;
}

.status-dot-online {
	background: var(--palantir-success);
	box-shadow: 0 0 4px rgba(74, 222, 128, 0.5);
}

.status-dot-offline {
	background: var(--palantir-error);
}

.status-dot-warning {
	background: var(--palantir-warning);
	box-shadow: 0 0 4px rgba(251, 191, 36, 0.5);
}

/* ---- Utility: muted accent glow (replaces neon glow) ---- */
.accent-glow {
	box-shadow: 0 0 12px rgba(74, 158, 255, 0.15);
}

.accent-glow-strong {
	box-shadow: 0 0 20px rgba(74, 158, 255, 0.25);
}

/* ---- Utility Classes ---- */
.bg-surface {
	background: var(--palantir-bg-surface);
}
.bg-elevated {
	background: var(--palantir-bg-elevated);
}
.bg-app {
	background: var(--palantir-bg-app);
}

.text-tertiary {
	color: var(--palantir-text-tertiary);
}
.text-brand {
	color: var(--palantir-signal-strong);
}

.border-subtle {
	border-color: var(--palantir-border-subtle);
}
.border-strong {
	border-color: var(--palantir-border-strong);
}

/* Status color utilities */
.text-success {
	color: var(--palantir-success);
}
.text-error {
	color: var(--palantir-error);
}
.text-warning {
	color: var(--palantir-warning);
}
.text-info {
	color: var(--palantir-info);
}

.bg-success-muted {
	background: rgba(74, 222, 128, 0.12);
}
.bg-error-muted {
	background: rgba(248, 113, 113, 0.12);
}
.bg-warning-muted {
	background: rgba(251, 191, 36, 0.12);
}
.bg-info-muted {
	background: rgba(74, 158, 255, 0.12);
}

/* Feature category utilities */
.text-feature-rf {
	color: var(--feature-rf);
}
.text-feature-drone {
	color: var(--feature-drone);
}
.text-feature-radio {
	color: var(--feature-radio);
}

/* ---- Metric Layout Patterns ---- */
.metric-group {
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
}

.metric-row {
	display: flex;
	justify-content: space-between;
	align-items: baseline;
	gap: var(--space-2);
}

/* ---- Sidebar Layout Patterns ---- */
.tactical-sidebar {
	width: 320px;
	background: var(--palantir-bg-panel);
	border-right: 1px solid var(--palantir-border-default);
	display: flex;
	flex-direction: column;
	overflow-y: auto;
	scroll-behavior: smooth;
}

.tactical-sidebar-section {
	padding: var(--space-4);
	border-bottom: 1px solid var(--palantir-border-subtle);
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
}

.tactical-sidebar-section-scrollable {
	flex: 1;
	overflow-y: auto;
	min-height: 200px;
}
