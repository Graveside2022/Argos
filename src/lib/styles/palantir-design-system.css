/* ============================================================
   PALANTIR DESIGN SYSTEM
   Enterprise-grade military dashboard aesthetic
   
   Colors are bridged to shadcn CSS variables so the entire
   dashboard responds to palette/mode changes from the theme
   store. Fallback hex values preserve appearance if shadcn
   vars are not yet loaded.
   ============================================================ */

/* ---- Color Palette (bridged to Lunaris base tokens) ---- */
:root {
	/* Backgrounds — mapped to Lunaris surface hierarchy */
	--palantir-bg-app: var(--background);
	--palantir-bg-chrome: var(--background);
	--palantir-bg-surface: var(--card);
	--palantir-bg-panel: var(--card);
	--palantir-bg-elevated: var(--secondary);
	--palantir-bg-input: var(--input);
	--palantir-bg-hover: var(--hover-tint);
	--palantir-bg-button: var(--secondary);

	/* Borders — all solid #2E2E2E via --border */
	--palantir-border-subtle: var(--border);
	--palantir-border-default: var(--border);
	--palantir-border-strong: var(--border);

	/* Text — mapped to Lunaris text hierarchy */
	--palantir-text-primary: var(--foreground);
	--palantir-text-secondary: var(--text-secondary, #bbbbbb);
	--palantir-text-tertiary: var(--text-tertiary, #888888);
	--palantir-text-on-accent: var(--primary-foreground);

	/* Accent — mapped to Lunaris primary */
	--palantir-accent: var(--primary);
	--palantir-accent-hover: var(--ring);
	--palantir-accent-muted: color-mix(in srgb, var(--primary) 15%, transparent);

	/* Status — mapped to Lunaris semantic tokens */
	--palantir-success: var(--success);
	--palantir-warning: var(--warning);
	--palantir-error: var(--destructive);
	--palantir-info: var(--info);

	/* Signal strength scale — mapped to Lunaris signal tokens */
	--palantir-signal-critical: var(--signal-very-strong);
	--palantir-signal-strong: var(--signal-strong);
	--palantir-signal-good: var(--signal-good);
	--palantir-signal-fair: var(--signal-fair);
	--palantir-signal-weak: var(--signal-weak);

	/* Chart / data viz — mapped to Lunaris chart tokens */
	--palantir-chart-1: var(--chart-1);
	--palantir-chart-2: var(--chart-2);
	--palantir-chart-3: var(--chart-3);
	--palantir-chart-4: var(--chart-4);
	--palantir-chart-5: var(--chart-5);

	/* Spacing scale (8px grid) */
	--space-1: 0.25rem; /* 4px */
	--space-2: 0.5rem; /* 8px */
	--space-3: 0.75rem; /* 12px */
	--space-4: 1rem; /* 16px */
	--space-5: 1.25rem; /* 20px */
	--space-6: 1.5rem; /* 24px */
	--space-8: 2rem; /* 32px */
	--space-10: 2.5rem; /* 40px */
	--space-12: 3rem; /* 48px */

	/* Typography — Lunaris 6-step scale */
	--text-hero: 1.5rem; /* 24px — hero metrics */
	--text-brand: 0.8125rem; /* 13px — brand text */
	--text-sm: 0.75rem; /* 12px — secondary data */
	--text-xs: 0.6875rem; /* 11px — primary data rows */
	--text-status: 0.625rem; /* 10px — status text */
	--text-section: 0.5625rem; /* 9px — section headers (UPPERCASE) */
	--text-base: 0.875rem; /* 14px — body/brand mark (utility) */
	--text-lg: 1rem; /* 16px — large text (utility) */
	--text-xl: 1.125rem; /* 18px */
	--text-2xl: 1.5rem; /* 24px */
	--text-3xl: 1.875rem; /* 30px */

	--font-weight-normal: 400;
	--font-weight-medium: 500;
	--font-weight-semibold: 600;
	--font-weight-bold: 700;

	--letter-spacing-tight: -0.01em;
	--letter-spacing-normal: 0;
	--letter-spacing-wide: 0.025em;
	--letter-spacing-wider: 0.05em;
	--letter-spacing-widest: 0.1em;

	/* Radius */
	--radius-sm: 4px;
	--radius-md: 6px;
	--radius-lg: 8px;
	--radius-xl: 12px;
}

/* ---- Map Popup ---- */
.map-popup {
	background: var(--palantir-bg-panel);
	border: 1px solid var(--palantir-border-default);
	border-radius: var(--radius-lg);
	padding: var(--space-3);
	color: var(--palantir-text-primary);
	font-size: var(--text-sm);
	box-shadow: 0 4px 16px #00000066;
}

.popup-title {
	font-size: var(--text-base);
	font-weight: var(--font-weight-semibold);
	color: var(--palantir-text-primary);
	margin-bottom: var(--space-2);
	padding-bottom: var(--space-2);
	border-bottom: 1px solid var(--palantir-border-subtle);
}

.popup-row {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: var(--space-1) 0;
}

.popup-label {
	font-size: var(--text-xs);
	color: var(--palantir-text-tertiary);
	text-transform: uppercase;
	letter-spacing: var(--letter-spacing-wider);
}

.popup-value {
	font-size: var(--text-sm);
	color: var(--palantir-text-primary);
	font-variant-numeric: tabular-nums;
}

/* ---- Signal Indicator ---- */
.signal-indicator {
	display: inline-block;
	width: 10px;
	height: 10px;
	border-radius: 50%;
}

.signal-critical {
	background: var(--signal-very-strong);
}

.signal-strong {
	background: var(--signal-strong);
}

.signal-good {
	background: var(--signal-good);
}

.signal-fair {
	background: var(--signal-fair);
}

.signal-weak {
	background: var(--signal-weak);
}

/* ---- Status dot ---- */
.status-dot {
	width: 8px;
	height: 8px;
	border-radius: 50%;
	display: inline-block;
}

.status-dot-online {
	background: var(--palantir-success);
}

.status-dot-offline {
	background: var(--palantir-error);
}

.status-dot-warning {
	background: var(--palantir-warning);
}

/* ---- Utility Classes ---- */
.bg-surface {
	background: var(--palantir-bg-surface);
}
.bg-elevated {
	background: var(--palantir-bg-elevated);
}
.bg-app {
	background: var(--palantir-bg-app);
}

.text-tertiary {
	color: var(--palantir-text-tertiary);
}
.text-brand {
	color: var(--palantir-signal-strong);
}

.border-subtle {
	border-color: var(--palantir-border-subtle);
}
.border-strong {
	border-color: var(--palantir-border-strong);
}

/* Status color utilities */
.text-success {
	color: var(--palantir-success);
}
.text-error {
	color: var(--palantir-error);
}
.text-warning {
	color: var(--palantir-warning);
}
.text-info {
	color: var(--palantir-info);
}

.bg-success-muted {
	background: var(--success-bg);
}
.bg-error-muted {
	background: var(--error-bg);
}
.bg-warning-muted {
	background: var(--warning-bg);
}
.bg-info-muted {
	background: var(--info-bg);
}

/* Feature category utilities */
.text-feature-rf {
	color: var(--feature-rf);
}
.text-feature-drone {
	color: var(--feature-drone);
}
.text-feature-radio {
	color: var(--feature-radio);
}

/* ---- Metric Layout Patterns ---- */
.metric-group {
	display: flex;
	flex-direction: column;
	gap: var(--space-1);
}

.metric-row {
	display: flex;
	justify-content: space-between;
	align-items: baseline;
	gap: var(--space-2);
}

/* ---- Sidebar Layout Patterns ---- */
.tactical-sidebar {
	width: 280px;
	background: var(--palantir-bg-panel);
	border-right: 1px solid var(--palantir-border-default);
	display: flex;
	flex-direction: column;
	overflow-y: auto;
	scroll-behavior: smooth;
}

.tactical-sidebar-section {
	padding: var(--space-4);
	border-bottom: 1px solid var(--palantir-border-subtle);
	display: flex;
	flex-direction: column;
	gap: var(--space-3);
}

.tactical-sidebar-section-scrollable {
	flex: 1;
	overflow-y: auto;
	min-height: 200px;
}
