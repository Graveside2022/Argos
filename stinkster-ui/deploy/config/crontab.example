# WigleToTAK Automated Tasks
# Add these entries to the system crontab or user crontab

# Daily backup at 2:30 AM
30 2 * * * /opt/wigletotak/deploy/scripts/backup-manager.sh auto >> /var/log/wigletotak/backup.log 2>&1

# Health check every 5 minutes
*/5 * * * * /opt/wigletotak/deploy/scripts/health-check.sh json >> /var/log/wigletotak/health-check.log 2>&1

# Clean up old logs weekly (Sunday at 3:00 AM)
0 3 * * 0 find /var/log/wigletotak -name "*.log.*" -mtime +30 -delete

# Restart service if it's not running (every 15 minutes)
*/15 * * * * systemctl is-active --quiet wigletotak || systemctl start wigletotak